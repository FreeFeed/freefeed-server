require('@babel/register');

module.exports = {
  extends: [
    'eslint:recommended',
    'plugin:import/typescript',
    'plugin:prettier/recommended',
  ],
  parser: '@typescript-eslint/parser',
  plugins: [
    'babel',
    'import',
    'lodash',
    'prettier',
    'promise',
    'you-dont-need-lodash-underscore',
    '@typescript-eslint',
  ],
  env: {
    node: true,
    es2020: true,
  },
  parserOptions: {
    ecmaVersion: 2020,
    sourceType: 'module',
    ecmaFeatures: { jsx: true },
  },
  rules: {
    'prettier/prettier': [
      'error',
      {
        trailingComma: 'all',
        tabWidth: 2,
        semi: true,
        singleQuote: true,
        printWidth: 100,
        useTabs: false,
        bracketSpacing: true,
        jsxBracketSameLine: false,
        arrowParens: 'always',
        endOfLine: 'auto',
      },
      {
        usePrettierrc: true,
      },
    ],
    'consistent-return': 2,
    curly: 2,
    'func-name-matching': 2,
    'import/default': 2,
    'import/named': 2,
    'import/namespace': 2,
    'import/no-duplicates': 2,
    'import/no-extraneous-dependencies': 2,
    'import/no-mutable-exports': 2,
    'import/no-named-as-default': 2,
    'import/no-named-as-default-member': 2,
    'import/no-unresolved': 2,
    'import/order': [
      2,
      {
        groups: ['builtin', 'external', 'internal', 'parent', 'sibling', 'index'],
        'newlines-between': 'always',
      },
    ],
    'lodash/callback-binding': 2,
    'lodash/collection-method-value': 2,
    'lodash/collection-return': 2,
    'lodash/no-double-unwrap': 2,
    'lodash/no-extra-args': 2,
    'lodash/prefer-compact': 2,
    'lodash/prefer-filter': 2,
    'lodash/prefer-map': 2,
    'lodash/unwrap': 2,
    'max-statements-per-line': [2, { max: 1 }],
    'no-async-promise-executor': 2,
    'no-await-in-loop': 2,
    'no-control-regex': 0,
    'no-debugger': 2,
    'no-duplicate-imports': 2,
    'no-else-return': 2,
    'no-global-assign': 2,
    'no-lonely-if': 2,
    'no-misleading-character-class': 2,
    'no-native-reassign': 2,
    'no-nested-ternary': 2,
    'no-prototype-builtins': 0,
    'no-restricted-properties': [
      1,
      {
        object: '_',
        property: 'extend',
        message: 'consider using [...arr] or { ...obj } instead',
      },
    ],
    'no-shadow': [2, { allow: ['err', 'res'] }],
    'no-template-curly-in-string': 2,
    'no-throw-literal': 2,
    'no-undef': 2,
    'no-unneeded-ternary': 2,
    'no-unsafe-negation': 2,
    'no-useless-computed-key': 2,
    'no-var': 2,
    'no-warning-comments': 1,
    'object-shorthand': [2, 'properties'],
    'padding-line-between-statements': [
      2,
      { blankLine: 'always', prev: '*', next: 'block' },
      { blankLine: 'always', prev: '*', next: 'for' },
      { blankLine: 'always', prev: '*', next: 'if' },
      { blankLine: 'always', prev: '*', next: 'switch' },
      { blankLine: 'always', prev: '*', next: 'try' },
      { blankLine: 'always', prev: '*', next: 'while' },
      { blankLine: 'always', prev: 'block', next: '*' },
      { blankLine: 'always', prev: 'for', next: '*' },
      { blankLine: 'always', prev: 'if', next: '*' },
      { blankLine: 'always', prev: 'switch', next: '*' },
      { blankLine: 'always', prev: 'try', next: '*' },
      { blankLine: 'always', prev: 'while', next: '*' },
    ],
    'prefer-const': 2,
    'prefer-destructuring': 2,
    'prefer-numeric-literals': 1,
    'prefer-object-spread': 2,
    'prefer-rest-params': 2,
    'prefer-spread': 2,
    'prefer-template': 2,
    'promise/param-names': 2,
    'promise/catch-or-return': 2,
    'promise/no-native': 0,
    'require-atomic-updates': 0,
    'require-yield': 0,
    'require-await': 2,
    'spaced-comment': [2, 'always', { exceptions: ['/'] }],
    strict: [2, 'never'],

    'you-dont-need-lodash-underscore/assign': 2,
    'you-dont-need-lodash-underscore/concat': 2,
    'you-dont-need-lodash-underscore/find': 2,
    'you-dont-need-lodash-underscore/find-index': 2,
    'you-dont-need-lodash-underscore/includes': 2,
    'you-dont-need-lodash-underscore/index-of': 2,
    'you-dont-need-lodash-underscore/keys': 2,
    'you-dont-need-lodash-underscore/repeat': 2,
    'you-dont-need-lodash-underscore/reverse': 2,
    'you-dont-need-lodash-underscore/to-lower': 2,
    'you-dont-need-lodash-underscore/to-upper': 2,
    'you-dont-need-lodash-underscore/trim': 2,
    'you-dont-need-lodash-underscore/values': 2,

    'no-unused-vars': 'off',
    '@typescript-eslint/no-unused-vars': ['error'],
  },
};
